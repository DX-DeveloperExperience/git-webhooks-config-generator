(function(e){function t(t){for(var a,i,s=t[0],l=t[1],u=t[2],p=0,d=[];p<s.length;p++)i=s[p],o[i]&&d.push(o[i][0]),o[i]=0;for(a in l)Object.prototype.hasOwnProperty.call(l,a)&&(e[a]=l[a]);c&&c(t);while(d.length)d.shift()();return r.push.apply(r,u||[]),n()}function n(){for(var e,t=0;t<r.length;t++){for(var n=r[t],a=!0,s=1;s<n.length;s++){var l=n[s];0!==o[l]&&(a=!1)}a&&(r.splice(t--,1),e=i(i.s=n[0]))}return e}var a={},o={app:0},r=[];function i(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=e,i.c=a,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)i.d(n,a,function(t){return e[t]}.bind(null,a));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/hygie-config-generator/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],l=s.push.bind(s);s.push=t,s=s.slice();for(var u=0;u<s.length;u++)t(s[u]);var c=l;r.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"0ee0":function(e,t,n){},"403f":function(e,t,n){"use strict";var a=n("0ee0"),o=n.n(a);o.a},"56d7":function(e,t,n){"use strict";n.r(t);n("cadf"),n("551c"),n("f751"),n("097d");var a=n("2b0e"),o=n("bb71");n("da64");a["a"].use(o["a"],{iconfont:"md",theme:{primary:"#3f51b5",secondary:"#ffc107",accent:"#ff9800",error:"#f44336",warning:"#ff5722",info:"#2196f3",success:"#4caf50",p_color_dark:"#1a237e",p_color:"#eceff1",p_color_light:"#534bae",s_color_dark:"#ff8f00",s_color:"#f5f5f5",s_color_light:"#ffc046",t_color_dark:"#c7c7c7",t_color:"#fafafa",t_color_light:"#ffffff"}});var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("v-app",{attrs:{id:"vue-config-rules"}},[n("v-container",{attrs:{"grid-list-md":"","text-xs-center":""}},[n("v-layout",{attrs:{row:"",wrap:""}},[n("v-flex",{attrs:{xs12:""}},[n("v-card",{attrs:{color:"p_color"}},[n("div",{staticClass:"v-card-title p_color_dark fit-width"},[n("h1",{staticClass:"headline mb-0"},[e._v("\n                Hygie-Config-Generator\n                "),n("i",{staticClass:"material-icons"},[e._v("build")])])]),n("div",{staticClass:"v-card-content justify"},[n("p",[e._v("\n                This SPA allows you to generate the\n                "),n("a",[e._v(".rulesrc")]),e._v(" config file for your\n                "),n("a",{attrs:{href:"https://github.com/DX-DeveloperExperience/hygie"}},[e._v("Hygie API")]),e._v("\n                with a friendly user-interface.\n              ")]),n("p",[e._v("\n                This application will source every Rules and Runnables you've\n                created in your Hygie project, and display all of them\n                in the UI. If Hygie project it's not running, the\n                configurator come with default values.\n              ")])])])],1),n("v-flex",{attrs:{xs6:""}},[n("v-layout",{attrs:{row:"",wrap:""}},[n("v-flex",{staticClass:"fit-width",attrs:{id:"options"}},[n("v-card",{attrs:{color:"p_color"}},[n("div",{staticClass:"v-card-title p_color_dark fit-width"},[n("h1",{staticClass:"headline mb-0"},[e._v("\n                    Options\n                    "),n("i",{staticClass:"material-icons"},[e._v("settings")])])]),n("div",{staticClass:"v-card-content"},[n("SelectOption",{attrs:{items:e.optionsAvailable}}),n("v-layout",{attrs:{row:"",wrap:""}},e._l(e.optionsConf,function(e,t){return n("v-flex",{key:"option-"+t,attrs:{xs6:""}},[n("Option",{attrs:{item:e}})],1)}),1)],1)])],1),n("v-flex",{staticClass:"fit-width",attrs:{id:"rules"}},[n("v-card",{attrs:{color:"p_color"}},[n("div",{staticClass:"v-card-title p_color_dark fit-width"},[n("h1",{staticClass:"headline mb-0"},[e._v("\n                    Rules\n                    "),n("i",{staticClass:"material-icons"},[e._v("apps")])])]),n("div",{staticClass:"v-card-content"},[n("SelectRule",{attrs:{location:"rule"}}),n("draggable",{on:{start:function(t){e.drag=!0},end:function(t){e.drag=!1}},model:{value:e.rulesConf,callback:function(t){e.rulesConf=t},expression:"rulesConf"}},e._l(e.rulesConf,function(e,t){return n("Rule",{key:"rule-"+t,attrs:{item:e,displayRunnable:!0}})}),1)],1)])],1),n("v-flex",{staticClass:"fit-width",attrs:{id:"groups"}},[n("v-card",{attrs:{color:"p_color"}},[n("div",{staticClass:"v-card-title p_color_dark fit-width"},[n("h1",{staticClass:"headline mb-0"},[e._v("\n                    Groups\n                    "),n("i",{staticClass:"material-icons"},[e._v("apps")])])]),n("div",{staticClass:"v-card-content"},[n("v-btn",{on:{click:e.addGroup}},[e._v("\n                    New Group\n                    "),n("i",{staticClass:"material-icons"},[e._v("add")])]),n("draggable",{on:{start:function(t){e.drag=!0},end:function(t){e.drag=!1}},model:{value:e.groupsConf,callback:function(t){e.groupsConf=t},expression:"groupsConf"}},e._l(e.groupsConf,function(e,t){return n("Group",{key:"group-"+t,attrs:{item:e}})}),1)],1)])],1)],1)],1),n("v-flex",{attrs:{xs6:"",id:"config_file"}},[n("v-card",{attrs:{color:"p_color"}},[n("div",{staticClass:"v-card-title p_color_dark fit-width"},[n("h1",{staticClass:"headline mb-0"},[n("em",[e._v(".rulesrc")]),e._v("Â \n                "),n("i",{staticClass:"material-icons"},[e._v("code")])])]),n("div",{staticClass:"v-card-content"},[n("v-btn",{attrs:{color:"success"},on:{click:e.generateFile}},[e._v("Generate File")]),n("v-btn",{attrs:{color:"accent"},on:{click:e.downloadFile}},[e._v("Download File")]),n("v-textarea",{attrs:{outline:"",value:e.configFile,rows:"20"}})],1)])],1)],1)],1)],1)],1)},i=[],s=(n("7f7f"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[n("v-switch",e._g({attrs:{label:e.item.name},on:{change:e.updateOptions},model:{value:e.item.value,callback:function(t){e.$set(e.item,"value",t)},expression:"item.value"}},a))]}}])},[n("span",[e._v(e._s(e.item.tooltip))])])}),l=[],u={props:["item"],methods:{updateOptions:function(){this.$store.commit("updateOptions",this.item)}}},c=u,p=n("2877"),d=n("6544"),m=n.n(d),f=n("b73d"),v=n("3a2f"),h=Object(p["a"])(c,s,l,!1,null,null,null),g=h.exports;m()(h,{VSwitch:f["a"],VTooltip:v["a"]});var b=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-select",{attrs:{color:"white--text",items:e.items,label:"Add an option","prepend-icon":"settings","item-value":"name"},on:{change:e.selectOption},scopedSlots:e._u([{key:"item",fn:function(t){var a=t.item;t.index;return[n("div",[n("p",{staticClass:"select_name"},[e._v(e._s(a.name))]),n("p",{staticClass:"select_tooltip"},[e._v(e._s(a.tooltip))])])]}}])})},R=[],y=(n("7514"),{props:["items"],computed:{optionsNames:function(){return this.items.map(function(e){return e.name})}},methods:{selectOption:function(e){this.$store.commit("updateOptions",this.items.find(function(t){return t.name===e}))}}}),_=y,C=n("b56d"),k=Object(p["a"])(_,b,R,!1,null,null,null),x=k.exports;m()(k,{VSelect:C["a"]});var w=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-card",{class:e.isEnabled?"enabled-card":"disabled-card",attrs:{color:"s_color"}},[n("div",{staticClass:"v-card-title s_color_dark draggable"},[n("h1",{staticClass:"headline mb-0"},[e._v("\n      "+e._s(e.item.name)+"\n      "),n("v-switch",{staticClass:"header-switch",attrs:{label:e.isEnabled?"enabled":"disabled","hide-details":""},model:{value:e.isEnabled,callback:function(t){e.isEnabled=t},expression:"isEnabled"}}),n("button",{staticClass:"v-icon v-icon--link material-icons theme--light align-cross",attrs:{"aria-hidden":"true"},on:{click:e.removeRule}},[e._v("clear")])],1)]),n("div",{staticClass:"v-card-content",class:e.isEnabled?"enabled-content":"disabled-content"},[n("div",{staticClass:"alert alert-info",domProps:{innerHTML:e._s(e.displayTooltip())}}),e._l(e.item.options,function(t,a){return n("div",{key:"rule-"+e.item.name+"-option-"+a},[n("v-text-field",{attrs:{label:""+t.name},on:{change:function(n){return e.updateValue(t.name,t.value)}},model:{value:t.value,callback:function(n){e.$set(t,"value",n)},expression:"option.value"}})],1)}),e.displayRunnable?n("div",[n("h4",[e._v("Post-Actions")]),n("SelectRunnable",{attrs:{currentRule:e.item}}),e._l(e.attachedRunnable,function(t,a){return n("v-flex",{key:"rule-"+e.item.name+"-runnable-"+a},[n("Runnable",{attrs:{item:t,attachedRule:e.item}})],1)})],2):e._e()],2)])},S=[],P=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-select",{attrs:{items:e.runnablesList,label:"Add a runnable","prepend-icon":"loop","item-value":"name"},on:{change:e.selectRunnable},scopedSlots:e._u([{key:"item",fn:function(t){var a=t.item;t.index;return[n("div",[n("p",{staticClass:"select_name"},[e._v(e._s(a.name))]),a.tooltip.indexOf("@warn")>-1?n("p",{staticClass:"select_tooltip"},[e._v(e._s(a.tooltip.substring(0,a.tooltip.indexOf("@warn"))))]):n("p",{staticClass:"select_tooltip"},[e._v(e._s(a.tooltip))])])]}},{key:"selection",fn:function(t){var n=t.item;t.index;return[e._v(e._s(n.name))]}}])})},O=[],$={props:["currentRule","currentGroup"],computed:{runnablesList:function(){return this.$store.state.runnablesList}},methods:{selectRunnable:function(e){var t=this.runnablesList.find(function(t){return t.name===e});void 0!==this.currentRule?this.$store.commit("addRunnableToRule",{rule:this.currentRule,runnable:t}):void 0!==this.currentGroup&&this.$store.commit("addRunnableToGroup",{group:this.currentGroup,runnable:t})}}},E=$,G=Object(p["a"])(E,P,O,!1,null,null,null),L=G.exports;m()(G,{VSelect:C["a"]});var V=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-card",{attrs:{color:"t_color"}},[n("div",{staticClass:"v-card-title t_color_dark draggable"},[n("h1",{staticClass:"headline mb-0"},[e._v("\n      "+e._s(e.item.name)+"\n      "),n("button",{staticClass:"v-icon v-icon--link material-icons theme--light align-cross",attrs:{"aria-hidden":"true"},on:{click:e.removeRunnable}},[e._v("clear")])])]),n("div",{staticClass:"v-card-content"},[n("div",{staticClass:"alert alert-info",domProps:{innerHTML:e._s(e.displayTooltip(e.item.tooltip))}}),e.hasWarn?n("div",{staticClass:"alert alert-warning",domProps:{innerHTML:e._s(e.displayWarning(e.item.tooltip))}}):e._e(),n("v-select",{attrs:{items:["onBoth","onSuccess","onError"],label:"Event"},on:{change:e.setEvent}}),e._l(e.item.args,function(t,a){return n("div",{key:"runnable-{item.name}-arg-"+a},[n("v-text-field",{attrs:{label:""+t.name},on:{change:function(n){return e.updateValue(t.name,t.value)}},model:{value:t.value,callback:function(n){e.$set(t,"value",n)},expression:"arg.value"}})],1)})],2)])},j=[],I=(n("a481"),n("0e54")),T={props:["item","attachedRule","attachedGroup"],computed:{hasWarn:function(){return this.item.tooltip.indexOf("@warn")>-1}},methods:{displayTooltip:function(e){var t=e.indexOf("@warn");return I(t>-1?e.substring(0,t):e)},displayWarning:function(e){return I(e.substring(e.indexOf("@warn")).replace("@warn",""))},updateValue:function(e,t){this.$store.commit("updateRunnableArg",{rule:this.attachedRule,group:this.attachedGroup,runnable:this.item,argName:e,argValue:t})},removeRunnable:function(){this.$store.commit("removeRunnable",{rule:this.attachedRule,group:this.attachedGroup,runnable:this.item})},setEvent:function(e){this.$store.commit("setRunnableEvent",{event:e,runnable:this.item,rule:this.attachedRule,group:this.attachedGroup})}}},N=T,F=n("b0af"),q=n("2677"),A=Object(p["a"])(N,V,j,!1,null,null,null),M=A.exports;m()(A,{VCard:F["a"],VSelect:C["a"],VTextField:q["a"]});var D={components:{SelectRunnable:L,Runnable:M},props:["item","displayRunnable"],computed:{attachedRunnable:function(){return this.item.runnables.length>0?this.item.runnables:null},isEnabled:{get:function(){return this.item.enabled},set:function(e){this.item.enabled=e}}},methods:{displayTooltip:function(){return I(this.item.tooltip)},updateValue:function(e,t){this.$store.commit("updateRuleOption",{rule:this.item,inGroup:!this.displayRunnable,optionName:e,optionValue:t})},removeRule:function(){this.$store.commit("removeRule",{rule:this.item,inGroup:!this.displayRunnable})}}},B=D,U=(n("8f98"),n("0e8f")),W=Object(p["a"])(B,w,S,!1,null,null,null),H=W.exports;m()(W,{VCard:F["a"],VFlex:U["a"],VSwitch:f["a"],VTextField:q["a"]});var J=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-select",{attrs:{items:e.rulesList,label:"Add a rule","prepend-icon":"ballot","item-value":"name"},on:{change:e.selectRule},scopedSlots:e._u([{key:"item",fn:function(t){var a=t.item;t.index;return[n("div",[n("p",{staticClass:"select_name"},[e._v(e._s(a.name))]),n("p",{staticClass:"select_tooltip"},[e._v(e._s(a.tooltip))])])]}},{key:"selection",fn:function(t){var n=t.item;t.index;return[e._v(e._s(n.name))]}}])})},X=[],z={props:["location","group"],computed:{rulesList:function(){return this.$store.state.rulesList}},methods:{selectRule:function(e){var t=this.rulesList.find(function(t){return t.name===e});this.$store.commit("addRule",{rule:t,location:this.location,group:this.group})}}},Y=z,K=Object(p["a"])(Y,J,X,!1,null,null,null),Q=K.exports;m()(K,{VSelect:C["a"]});var Z=n("bc3a"),ee=[{tooltip:"`CommitMessageRule` checks all commits title according to a regular expression and an optional max size.",runnables:[],enabled:!0,name:"commitMessage",options:[{name:"regexp",type:"string",value:""},{name:"maxLength",type:"number",value:""},{name:"branches",type:"BranchesOptions",value:""}]},{tooltip:"`OneCommitPerPRRule` checks if there is only one commit in the current PR, MR or Push.",runnables:[],enabled:!0,name:"oneCommitPerPR",options:[]},{tooltip:"`BranchNameRule` checks the branch's name according to a regular expression.",runnables:[],enabled:!0,name:"branchName",options:[{name:"regexp",type:"string",value:""}]},{tooltip:"`IssueTitleRule` checks the issue's title according to a regular expression.",runnables:[],enabled:!0,name:"issueTitle",options:[{name:"regexp",type:"string",value:""}]},{tooltip:"`PullRequestTitleRule` checks the PR or MR's title according to a regular expression.",runnables:[],enabled:!0,name:"pullRequestTitle",options:[{name:"regexp",type:"string",value:""}]},{tooltip:"`IssueCommentRule` checks the new issue's comment according to a regular expression.",runnables:[],enabled:!0,name:"issueComment",options:[{name:"regexp",type:"string",value:""}]},{tooltip:"`PullRequestCommentRule` checks the new PR or MR's comment according to a regular expression.",runnables:[],enabled:!0,name:"pullRequestComment",options:[{name:"regexp",type:"string",value:""}]},{tooltip:"`CheckVulnerabilitiesRule` will check if `package.json` and `package-lock.json` contain vulnerabilities thank's to `npm audit`.",runnables:[],enabled:!0,name:"checkVulnerabilities",options:[{name:"packageUrl",type:"string",value:""},{name:"packageLockUrl",type:"string",value:""}]},{tooltip:"`CheckAddedFilesRule` checks all added filenames in commits according to a regular expression.",runnables:[],enabled:!0,name:"checkAddedFiles",options:[{name:"regexp",type:"string",value:""}]},{tooltip:"`CheckPullRequestStatusRule` checks if the Pull Request event matchs.",runnables:[],enabled:!0,name:"checkPullRequestStatus",options:[{name:"status",type:"string",value:""}]},{tooltip:"`checkIssues` will return all Issues matching the filters options.",runnables:[],enabled:!0,name:"checkIssues",options:[{name:"updatedWithinXDays",type:"number",value:""},{name:"notUpdatedSinceXDays",type:"number",value:""},{name:"state",type:"string",value:""}]},{tooltip:"`CheckPullRequestsRule` will return all Pull Requests matching the filters options.",runnables:[],enabled:!0,name:"checkPullRequests",options:[{name:"updatedWithinXDays",type:"number",value:""},{name:"notUpdatedSinceXDays",type:"number",value:""},{name:"state",type:"string",value:""}]}],te=[{tooltip:"`CommentIssueRunnable` comments the Issue processed by the previous rule.  @warn Be sure that the rule returned the `issueNumber` property in the `RuleResult` object.",name:"CommentIssueRunnable",args:[{name:"comment",type:"string",value:""}]},{tooltip:"`CommentPullRequestRunnable` comments the PR or MR processed by the previous rule.   @warn Be sure that the rule returned the `pullRequestNumber` property in the `RuleResult` object.",name:"CommentPullRequestRunnable",args:[{name:"comment",type:"string",value:""}]},{tooltip:"`CreatePullRequestRunnable` creates a new PR or MR.",name:"CreatePullRequestRunnable",args:[{name:"title",type:"string",value:""},{name:"description",type:"string",value:""},{name:"source",type:"string",value:""},{name:"target",type:"string",value:""}]},{tooltip:"`LoggerRunnable` logs informations in your terminal.",name:"LoggerRunnable",args:[{name:"type",type:"string",value:""},{name:"message",type:"string",value:""}]},{tooltip:"`SendEmailRunnable` allows you to send Email with the Gmail API.  @warn Be sure to have configured the Gmail API as explained in the documentation.",name:"SendEmailRunnable",args:[{name:"to",type:"string",value:""},{name:"subject",type:"string",value:""},{name:"message",type:"string",value:""}]},{tooltip:"`UpdateCommitStatusRunnable` updates the commits' status processed by the previous rule.  @warn Be sure that the previous rule returned the `commits` property in the `RuleResult` object.",name:"UpdateCommitStatusRunnable",args:[{name:"successTargetUrl",type:"string",value:""},{name:"failTargetUrl",type:"string",value:""},{name:"successDescriptionMessage",type:"string",value:""},{name:"failDescriptionMessage",type:"string",value:""}]},{tooltip:"`WebhookRunnable` sends a POST request to the provided URL with custom `body` and `config`.",name:"WebhookRunnable",args:[{name:"url",type:"string",value:""},{name:"data",type:"object",value:""},{name:"config",type:"object",value:""}]},{tooltip:"`DeleteBranchRunnable` delete a particular branch.",name:"DeleteBranchRunnable",args:[{name:"branchName",type:"string",value:""}]},{tooltip:"`UpdateIssueRunnable` update some issue's properties.   @warn Be sure that the rule returned the `issueNumber` property in the `RuleResult` object.",name:"UpdateIssueRunnable",args:[{name:"state",type:"string",value:""},{name:"labels",type:"string[]",value:""}]},{tooltip:"`CreateIssueRunnable` create an issue the specified `CreateIssueArgs` params.",name:"CreateIssueRunnable",args:[{name:"title",type:"string",value:""},{name:"description",type:"string",value:""},{name:"assignees",type:"string[]",value:""},{name:"labels",type:"string[]",value:""}]},{tooltip:"`DeleteFilesRunnable` delete a set of files.",name:"DeleteFilesRunnable",args:[{name:"files",type:"string[]|string",value:""},{name:"message",type:"string",value:""},{name:"branch",type:"string",value:""}]},{tooltip:"`MergePullRequestRunnable` merge the PR or MR processed by the previous rule.   @warn Be sure that the rule returned the `pullRequestNumber` property in the `RuleResult` object.",name:"MergePullRequestRunnable",args:[{name:"commitTitle",type:"string",value:""},{name:"commitMessage",type:"string",value:""},{name:"method",type:"string",value:""},{name:"sha",type:"string",value:""}]},{tooltip:"`UpdatePullRequestRunnable` update some PR's properties.   @warn Be sure that the rule returned the `pullRequestNumber` property in the `RuleResult` object.",name:"UpdatePullRequestRunnable",args:[{name:"target",type:"string",value:""},{name:"title",type:"string",value:""},{name:"state",type:"string",value:""},{name:"description",type:"string",value:""}]}],ne=[{name:"executeAllRules",value:!1,tooltip:"Specify if the process continue when a rule does not succeed"},{name:"enableRules",value:!0,tooltip:"Specify if rules will be processed"},{name:"enableGroups",value:!0,tooltip:"Specify if groups will be processed"},{name:"allRuleResultInOne",value:!1,tooltip:"Specify if execute a runnable only once with the result of all rules"}],ae=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-card",{attrs:{color:"s_color"}},[n("div",{staticClass:"v-card-title border fit-width draggable"},[n("h1",{staticClass:"headline mb-0"},[n("v-text-field",{staticStyle:{display:"inline-block",padding:"0"},on:{change:e.updateGroupName},model:{value:e.item.name,callback:function(t){e.$set(e.item,"name",t)},expression:"item.name"}}),n("button",{staticClass:"v-icon v-icon--link material-icons theme--light align-cross",staticStyle:{"margin-top":"10px"},attrs:{"aria-hidden":"true"},on:{click:e.removeGroup}},[e._v("clear")])],1)]),n("div",{staticClass:"v-card-content"},[n("SelectRule",{attrs:{location:"group",group:e.item}}),n("SelectRunnable",{attrs:{currentGroup:e.item}}),n("draggable",{on:{start:function(t){e.drag=!0},end:function(t){e.drag=!1}},model:{value:e.groupRules,callback:function(t){e.groupRules=t},expression:"groupRules"}},e._l(e.groupRules,function(e,t){return n("v-flex",{key:"rule-"+t},[n("Rule",{attrs:{item:e,displayRunnable:!1}})],1)}),1),e._l(e.attachedRunnable,function(t,a){return n("v-flex",{key:"rule-"+e.item.name+"-runnable-"+a},[n("Runnable",{attrs:{item:t,attachedGroup:e.item}})],1)})],2)])},oe=[],re=n("1980"),ie=n.n(re),se={components:{SelectRule:Q,SelectRunnable:L,Rule:H,Runnable:M,draggable:ie.a},props:["item"],computed:{attachedRunnable:function(){return this.item.runnables.length>0?this.item.runnables:null},groupRules:{get:function(){var e=this;return this.$store.state.groupsConf.find(function(t){return t.id===e.item.id}).rules},set:function(e){this.$store.commit("groupsRulesDraggabled",{group:this.item,rules:e})}}},methods:{removeGroup:function(){this.$store.commit("removeGroup",this.item)},updateGroupName:function(e){""===e&&(e="default name"),this.$store.commit("updateGroupName",{group:this.item,name:e})}}},le=se,ue=(n("403f"),Object(p["a"])(le,ae,oe,!1,null,null,null)),ce=ue.exports;function pe(e,t){var n=document.createElement("a");n.setAttribute("href","data:text/plain;charset=utf-8,"+encodeURIComponent(t)),n.setAttribute("download",e),n.style.display="none",document.body.appendChild(n),n.click(),document.body.removeChild(n)}m()(ue,{VCard:F["a"],VFlex:U["a"],VTextField:q["a"]});var de={name:"App",components:{Option:g,SelectOption:x,Rule:H,SelectRule:Q,Group:ce,draggable:ie.a},created:function(){var e=this,t="https://webhooks-sklnx3jldq-uc.a.run.app";Z["get"]("".concat(t,"/doc/rules")).then(function(t){e.$store.commit("loadRules",t.data)}).catch(function(t){console.log("No API founded, loading defaut rules...",t),e.$store.commit("loadRules",ee)}),Z["get"]("".concat(t,"/doc/runnables")).then(function(t){e.$store.commit("loadRunnables",t.data)}).catch(function(t){console.log("No API founded, loading defaut runnables...",t),e.$store.commit("loadRunnables",te)}),Z["get"]("".concat(t,"/doc/options")).then(function(t){e.$store.commit("loadOptions",t.data)}).catch(function(t){console.log("No API founded, loading defaut options...",t),e.$store.commit("loadOptions",ne)})},methods:{generateFile:function(){this.$store.commit("generateFile")},downloadFile:function(){this.generateFile(),pe(".rulesrc",this.configFile)},addGroup:function(){this.$store.commit("addGroup")}},computed:{optionsList:function(){return this.$store.state.optionsList},runnablesList:function(){return this.$store.state.runnablesList},rulesList:function(){return this.$store.state.rulesList},optionsListNames:function(){return this.optionsList.map(function(e){return e.name})},optionsConf:function(){return this.$store.state.optionsConf},rulesConf:{get:function(){return this.$store.state.rulesConf},set:function(e){this.$store.commit("rulesDraggabled",e)}},groupsConf:{get:function(){return this.$store.state.groupsConf},set:function(e){this.$store.commit("groupsDraggabled",e)}},optionsAvailable:function(){var e=this;return this.optionsList.filter(function(t){return 0===e.optionsConf.length||!e.optionsConf.some(function(e){return e===t})})},configFile:function(){return this.$store.state.configFile}}},me=de,fe=(n("5c0b"),n("7496")),ve=n("8336"),he=n("a523"),ge=n("a722"),be=n("a844"),Re=Object(p["a"])(me,r,i,!1,null,null,null),ye=Re.exports;m()(Re,{VApp:fe["a"],VBtn:ve["a"],VCard:F["a"],VContainer:he["a"],VFlex:U["a"],VLayout:ge["a"],VTextarea:be["a"]});var _e=n("f499"),Ce=n.n(_e),ke=(n("ac6a"),n("2f62"));function xe(e,t){return""===t?"/!\\ EMPTY /!\\":"string"===e?"'".concat(t,"'"):t}a["a"].use(ke["a"]);var we=new ke["a"].Store({state:{optionsList:[],rulesList:[],runnablesList:[],optionsConf:[],rulesConf:[],groupsConf:[],ruleId:0,runnableId:0,groupId:0,configFile:""},mutations:{loadOptions:function(e,t){e.optionsList=t},loadRunnables:function(e,t){e.runnablesList=t},loadRules:function(e,t){e.rulesList=t},updateOptions:function(e,t){var n=-1;e.optionsConf.forEach(function(e,a){e.name===t.name&&(n=a)}),n>-1?e.optionsConf[n]=t:e.optionsConf.push(t)},addRunnableToRule:function(e,t){var n=t.rule,a=t.runnable,o=JSON.parse(Ce()(a));o.id=e.runnableId++,n.runnables.push(o)},addRunnableToGroup:function(e,t){var n=t.group,a=t.runnable,o=JSON.parse(Ce()(a));o.id=e.runnableId++,n.runnables.push(o)},addRule:function(e,t){var n=t.rule,a=t.location,o=t.group,r=JSON.parse(Ce()(n));if(r.id=e.ruleId++,"rule"===a)e.rulesConf.push(r);else if("group"===a){var i=e.groupsConf.find(function(e){return e.id===o.id});i.rules.push(r)}},addGroup:function(){var e={id:this.state.groupId++,name:"default name",rules:[],runnables:[]};this.state.groupsConf.push(e)},removeRule:function(e,t){var n=t.rule,a=t.inGroup,o=-1;a?e.groupsConf.forEach(function(e){e.rules.forEach(function(e,t){e.id===n.id&&(o=t)}),-1!==o&&e.rules.splice(o,1)}):(e.rulesConf.forEach(function(e,t){e.id===n.id&&(o=t)}),-1!==o&&e.rulesConf.splice(o,1))},removeGroup:function(e,t){var n=-1;e.groupsConf.forEach(function(e,a){e.id===t.id&&(n=a)}),-1!==n&&e.groupsConf.splice(n,1)},removeRunnable:function(e,t){var n,a=t.rule,o=t.group,r=t.runnable,i=-1;void 0!==a?n=e.rulesConf.find(function(e){return e.id===a.id}):void 0!==o&&(n=e.groupsConf.find(function(e){return e.id===o.id})),n.runnables.forEach(function(e,t){e.id===r.id&&(i=t)}),-1!==i&&n.runnables.splice(i,1)},setRunnableEvent:function(e,t){var n,a=t.rule,o=t.group,r=t.runnable,i=t.event;void 0!==a?n=e.rulesConf.find(function(e){return e.id===a.id}):void 0!==o&&(n=e.groupsConf.find(function(e){return e.id===o.id}));var s=n.runnables.find(function(e){return e.id===r.id});s.event=i},generateFile:function(e){var t="",n=e.optionsConf,a=e.rulesConf,o=e.groupsConf;n.length>0&&(t+="options:\n",n.map(function(e){t+="  ".concat(e.name,": ").concat(e.value,"\n")})),a.length>0&&(t+="rules:\n",a.map(function(e){if(t+="  - name: ".concat(e.name,"\n"),e.enabled||(t+="    enabled: false\n"),e.options.length>0&&(t+="    options:\n",e.options.map(function(e){""!==e.value&&(t+="      ".concat(e.name,": ").concat(xe(e.type,e.value),"\n"))})),e.runnables.length>0){var n=e.runnables.filter(function(e){return"onSuccess"===e.event}),a=e.runnables.filter(function(e){return"onError"===e.event}),o=e.runnables.filter(function(e){return"onBoth"===e.event});n.length>0&&(t+="    onSuccess:\n",n.map(function(e){t+="      - callback: ".concat(e.name,"\n"),t+="        args:\n",e.args.map(function(e){""!==e.value&&(t+="          ".concat(e.name,": ").concat(xe(e.type,e.value),"\n"))})})),a.length>0&&(t+="    onError:\n",a.map(function(e){t+="      - callback: ".concat(e.name,"\n"),t+="        args:\n",e.args.map(function(e){""!==e.value&&(t+="          ".concat(e.name,": ").concat(xe(e.type,e.value),"\n"))})})),o.length>0&&(t+="    onBoth:\n",o.map(function(e){t+="      - callback: ".concat(e.name,"\n"),t+="        args:\n",e.args.map(function(e){""!==e.value&&(t+="          ".concat(e.name,": ").concat(xe(e.type,e.value),"\n"))})}))}})),o.length>0&&(t+="groups:\n",o.map(function(e){if(t+='  - groupName: "'.concat(e.name,'"\n'),e.rules.length>0&&(t+="    rules:\n",e.rules.map(function(e){t+="      - name: ".concat(e.name,"\n"),e.options.length>0&&(t+="        options:\n",e.options.map(function(e){""!==e.value&&(t+="          ".concat(e.name,": ").concat(xe(e.type,e.value),"\n"))}))})),e.runnables.length>0){var n=e.runnables.filter(function(e){return"onSuccess"===e.event}),a=e.runnables.filter(function(e){return"onError"===e.event}),o=e.runnables.filter(function(e){return"onBoth"===e.event});n.length>0&&(t+="    onSuccess:\n",n.map(function(e){t+="      - callback: ".concat(e.name,"\n"),t+="        args:\n",e.args.map(function(e){""!==e.value&&(t+="          ".concat(e.name,": ").concat(xe(e.type,e.value),"\n"))})})),a.length>0&&(t+="    onError:\n",a.map(function(e){t+="      - callback: ".concat(e.name,"\n"),t+="        args:\n",e.args.map(function(e){""!==e.value&&(t+="          ".concat(e.name,": ").concat(xe(e.type,e.value),"\n"))})})),o.length>0&&(t+="    onBoth:\n",o.map(function(e){t+="      - callback: ".concat(e.name,"\n"),t+="        args:\n",e.args.map(function(e){""!==e.value&&(t+="          ".concat(e.name,": ").concat(xe(e.type,e.value),"\n"))})}))}})),e.configFile=t},updateGroupName:function(e,t){var n=t.group,a=t.name,o=e.groupsConf.find(function(e){return e.id===n.id});o.name=a},updateRuleOption:function(e,t){var n,a,o=t.rule,r=t.inGroup,i=t.optionName,s=t.optionValue;r?e.groupsConf.forEach(function(e){e.rules.forEach(function(e){e.id===o.id&&(a=e.options.find(function(e){return e.name===i}))})}):(n=e.rulesConf.find(function(e){return e.id===o.id}),a=n.options.find(function(e){return e.name===i})),a.value=s},updateRunnableArg:function(e,t){var n,a=t.rule,o=t.group,r=t.runnable,i=t.argName,s=t.argValue;if(void 0!==a){var l=e.rulesConf.find(function(e){return e.id===a.id});n=l.runnables.find(function(e){return e.id===r.id})}else if(void 0!==r){var u=e.groupsConf.find(function(e){return e.id===o.id});n=u.runnables.find(function(e){return e.id===r.id})}var c=n.args.find(function(e){return e.name===i});c.value=s},rulesDraggabled:function(e,t){e.rulesConf=t},groupsDraggabled:function(e,t){e.groupsConf=t},groupsRulesDraggabled:function(e,t){var n=t.group,a=t.rules,o=e.groupsConf.find(function(e){return e.id===n.id});o.rules=a}}});a["a"].config.productionTip=!1,new a["a"]({store:we,render:function(e){return e(ye)}}).$mount("#app")},"5c0b":function(e,t,n){"use strict";var a=n("6879"),o=n.n(a);o.a},6879:function(e,t,n){},"8f98":function(e,t,n){"use strict";var a=n("af8c"),o=n.n(a);o.a},af8c:function(e,t,n){}});
//# sourceMappingURL=app.52ef028b.js.map